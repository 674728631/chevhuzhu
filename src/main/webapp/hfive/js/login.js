"use strict";!function(){var e=!1,o=null,n=$("#phone"),t=$("#btn-confirm"),a=decodeURIComponent(getUrlPar("redir")),i=loadStorage("from_url"),r=loadStorage("to_url");function l(){e||(o=n.val().trim()).length<11||(validatePhone(o,!0)?(showLoad({str:"验证码发送中"}),e=!0,goAPI({url:_api.code,type:"get",data:{mobileNumber:o+"_1"},success:function(e){saveStorage("to_url",a),window.location.href="/hfive/view/verify.html?phone="+o},error:function(e){showConfirm({str:e})},complete:function(){hideLoad(),e=!1}})):showAlert("手机号码有误"))}checkLogin()&&(delStorage("from_url"),delStorage("to_url"),i&&new RegExp("^http://www.chevhuzhu.com/hfive","i").test(i)?window.location.href=i:r&&new RegExp("^http://www.chevhuzhu.com/hfive","i").test(r)?window.location.href=r:window.location.href="/hfive/view/index.html"),_config.is_wx&&configWXJSSDK(_config.wx_share,{success:function(){shareWX({title:_share_title,desc:_share_desc,link:_share_link})}}),n.val().trim().length>=11&&($("#btn-confirm").removeClass("weak").addClass("strong"),$("#btn-cancel").removeClass("hide")),n.on("keydown",function(e){13===e.keyCode&&l()}).on("input",function(){var e=n.val().trim();e.length>0?($("#btn-cancel").removeClass("hide"),e.length>=11?$("#btn-confirm").removeClass("weak").addClass("strong"):$("#btn-confirm").removeClass("strong").addClass("weak")):$("#btn-cancel").addClass("hide")}),t.on("click",l),$("#btn-cancel").on("click",function(){n.val(""),$("#btn-cancel").addClass("hide"),$("#btn-confirm").removeClass("strong").addClass("weak")})}();